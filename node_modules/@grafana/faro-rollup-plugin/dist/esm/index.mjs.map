{"version":3,"file":"index.mjs","sources":["../../src/index.ts"],"sourcesContent":[null],"names":["faroUploader","pluginOptions","endpoint","appId","apiKey","stackId","appName","outputFiles","keepSourcemaps","gzipContents","verbose","skipUpload","bundleId","_a","String","Date","now","randomString","uploadEndpoint","maxSize","maxUploadSize","THIRTY_MB_IN_BYTES","exportBundleIdToFile","name","ROLLUP_PLUGIN_NAME","renderChunk","code","chunk","fileName","match","newCode","MagicString","prepend","faroBundleIdSnippet","map","generateMap","source","file","toString","writeBundle","options","bundle","consoleInfoOrange","uploadedSourcemaps","outputPath","dir","sourcemapEndpoint","filesToUpload","totalSize","filename","shouldProcessFile","size","fs","statSync","push","pop","result","uploadCompressedSourceMaps","files","length","uploadSourceMap","filePath","e","console","error","split","join","module","exports"],"mappings":"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"}